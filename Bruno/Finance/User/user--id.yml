info:
  name: /user/:id
  type: http
  seq: 6
  tags:
    - Listagem por id

http:
  method: GET
  url: "{{LOCALHOST}}/v1/finance/user/id/:id"
  params:
    - name: id
      value: "1"
      type: path
  auth: inherit

runtime:
  variables:
    - name: LOCALHOST
      value: http://localhost:8080
  scripts:
    - type: after-response
      code: "test('Status code is 200', function () {\r

        \    expect(res.getStatus()).to.equal(200);\r

        })\r

        \r

        test('Response time is less than 1000ms', function () {\r

        \    expect(res.getResponseTime()).to.be.below(1000);\r

        })\r

        \r

        test('Response is JSON', function () {\r

        //     pm.response.to.be.json;\r

        })\r

        \r

        test('Response has user properties', function () {\r

        \    const jsonData = res.getBody();\r

        \    expect(jsonData).to.be.an('object');\r

        \    expect(jsonData).to.have.property('id');\r

        \    expect(jsonData).to.have.property('name');\r

        \    expect(jsonData).to.have.property('email');\r

        })\r

        \r

        test('User field types are correct', function () {\r

        \    const jsonData = res.getBody();\r

        \    expect(jsonData.id).to.be.a('number');\r

        \    expect(jsonData.name).to.be.a('string');\r

        \    expect(jsonData.email).to.be.a('string');\r

        })"

settings:
  encodeUrl: true
  timeout: 0
  followRedirects: true
  maxRedirects: 5

examples:
  - name: 404 - User Not Found
    request:
      url: "{{LOCALHOST}}/v1/finance/user/id/:id"
      method: GET
      headers:
        - name: User-Agent
          value: insomnia/12.1.0
      params:
        - name: id
          value: "777"
          type: path
    response:
      status: 404
      statusText: Not Found
      headers:
        - name: content-type
          value: application/problem+json
        - name: transfer-encoding
          value: chunked
        - name: date
          value: Sun, 22 Feb 2026 20:16:24 GMT
        - name: keep-alive
          value: timeout=60
        - name: connection
          value: keep-alive
      body:
        type: text
        data: |-
          {
            "type": "about:blank",
            "title": "Resource Not Found",
            "status": 404,
            "detail": "user.not.found",
            "instance": "/v1/finance/user/id/777"
          }

docs: Lista todos um usu√°rios cadastrados a partir de um id.
